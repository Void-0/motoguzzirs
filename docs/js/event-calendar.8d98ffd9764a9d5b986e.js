(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("calendar-title"),t=document.getElementById("prev-month"),n=document.getElementById("next-month"),o=document.querySelectorAll(".calendar-table tbody td"),a=(document.getElementById("event-container"),document.getElementById("event-title")),d=document.getElementById("event-thumbnail"),r=document.getElementById("event-fb-video"),i=document.getElementById("event-description"),l=document.querySelector(".language-switcher-container ul li");let s=new Date,c=l.getAttribute("data-language")||"en";function u(e){var t;a.textContent=e.title||"",d.src=e.thumbnailUrl||"",d.alt=!!e.thumbnailUrl&&e.title||"",i.innerHTML=e.body||"",e.fbVideo?(t=e.fbVideo,r?(r.innerHTML=`\n      <div class="fb-video"\n        data-href="${t}"\n        data-app-id="887156172104257"></div>\n    `,"undefined"!=typeof FB?FB.XFBML.parse(r):console.error("Facebook SDK not loaded. Ensure the SDK is initialized.")):console.error("Element with id #event-fb-video not found.")):r?r.innerHTML="":console.error("Element with id #event-fb-video not found.")}function m(t=new Date){const n=t.getFullYear(),a=t.getMonth(),d=new Date,r=t.toLocaleDateString("en",{month:"long",year:"numeric"});e.textContent=r;const i=new Date(n,a,1),l=new Date(n,a+1,0).getDate(),s=i.getDay()||7;let m=new Date(n,a,0).getDate()-(s-2),g=1,h=1;o.forEach(((e,t)=>{if(e.innerHTML="",e.className="",t<s-1)e.textContent=m++,e.classList.add("prev-month");else if(g>l)e.textContent=h++,e.classList.add("next-month");else{const t=new Date(n,a,g).toISOString().split("T")[0];e.classList.add("current-month"),n===d.getFullYear()&&a===d.getMonth()&&g===d.getDate()&&e.classList.add("today"),e.innerHTML=`<span>${g++}</span>`,function(e){const t=`assets/events/${e}-${c}.json`;return fetch(t).then((e=>{if(!e.ok)throw new Error(`No events found for ${t}`);return e.json()})).catch((e=>(console.warn(e.message),[])))}(t).then((t=>{t.forEach((t=>{const n=document.createElement("a");n.textContent=t.title,n.href="#",n.addEventListener("click",(e=>{e.preventDefault(),u(t)})),e.classList.add("has-event"),e.appendChild(n)}))}))}}))}new MutationObserver((()=>{const e=l.getAttribute("data-language");e!==c&&(c=e,m(s),u({}))})).observe(l,{attributes:!0,attributeFilter:["data-language"]}),t.addEventListener("click",(()=>{s.setMonth(s.getMonth()-1),m(s)})),n.addEventListener("click",(()=>{s.setMonth(s.getMonth()+1),m(s)})),m(s)}))})();